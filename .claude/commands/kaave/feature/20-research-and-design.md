---
# allowed-tools:
argument-hint: [要件定義書のパス]
description: "要件定義書と既存のコードベースを元に、設計を行い Design Doc を作成します。"
---

# 調査と設計

要件定義書を元に、技術的意思決定と設計を行い Design Doc を作成するカスタムスラッシュコマンド。

## リクエスト

要件定義書 <_$ARGUMENTS_> 、または <_docs/feature.md_> を元に設計を行ってください。どちらのファイルも見当たらない場合は、一旦処理を停止してファイルが存在しないことをユーザーに伝えてください。

要件定義書が存在した場合、設計に移ります。大雑把な要求は次になります:

- 既存コードベースに沿っていること。具体的にはプログラミング言語やディレクトリ構成、既存設計など。
- 新規追加する外部ライブラリがあるなら、その名称
- 主な変更ファイルの一覧とその内容。コードの詳細は必要ないが、変更の概要と目的は必要

## 詳細

- リクエストを深く考えて分析し、設計に必要な情報を収集せよ。
  - 既存コードベースの確認が必要な場合は実施せよ。
  - 追加でユーザーに確認したいことがあれば確認せよ。
- 必要な情報が集まったら、設計を深く考えて実施せよ。
- ユーザーの確認後 `docs/design/$(date +%Y-%m-%d_%H-%M-%S).md` に Design Doc を出力せよ。

---

<design_doc_format>
# (PROJECT_NAME)

## 1. 概要

(プロジェクトの概要を 2,3 行で。)

## 2. Harvest

(このデザインドックで定義された開発が完了した段階で、誰がどのような成果を得られるようになるか書く)

## 3. 技術スタック

(主な技術スタックを箇条書きで記載する)

## 4. ファイル

(ディレクトリ構造を記載)

## 5. モデル

(追加・変更される概念について、モデルを記載。実装予定の言語における型定義を書く。型のない言語であればクラスなどを用いて書く)

## 6. 実装

(代表的なファイルとその責務、ドキュメント執筆時点でコアと考えられる実装を書く)

(以下、プロジェクトに応じて特記すべき項目を見出しと併せて追加して書く)
</design_doc_format>
